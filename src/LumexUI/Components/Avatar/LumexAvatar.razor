@namespace LumexUI
@inherits LumexComponentBase

<LumexComponent As="@As"
                Class="@Class"
                Style="@Style"
                data-slot="base"
                @attributes="@AdditionalAttributes">
    @if( !string.IsNullOrEmpty( Src ) )
    {
        <img src="@Src" alt="@Alt" data-slot="img" />
    }

    @_renderFallback
</LumexComponent>

@code {
    private void RenderFallback( RenderTreeBuilder __builder )
    {
        if( !string.IsNullOrEmpty( Src ) )
        {
            return;
        }

        if( FallbackContent is not null )
        {
            <div role="img" class="" data-slot="fallback" aria-label="@Alt">
                @FallbackContent
            </div>
        }

        if( !string.IsNullOrEmpty( Name ) )
        {
            <span role="img" class="" data-slot="name" aria-label="@Alt">
                @Initials( Name )
            </span>
        }
        else
        {
            <span role="img" class="" data-slot="icon" aria-label="@Alt">
                <LumexIcon Icon="@Icon" />
            </span>
        }
    }
}
