@namespace LumexUI.Docs.Client.Components
@rendermode InteractiveWebAssembly

<LumexNavbar Sticky="@true"
             Bordered="@Bordered"
             MaxWidth="@MaxWidth"
             Class="@Class"
             Classes="@(new() { Wrapper = "gap-6" })">
    <LumexNavbarBrand>
        <LumexLink Href="/"
                   Class="font-bold text-xl text-foreground-900">
            Lumex<span class="font-normal">UI</span>
        </LumexLink>
    </LumexNavbarBrand>

    <LumexNavbarContent Align="@Align.End" Class="hidden sm:flex">
        @foreach( var item in _navItems )
        {
            <LumexNavbarItem>
                <LumexLink Href="@item.Link"
                           Color="@ThemeColor.None"
                           Class="dark:text-foreground-700">
                    @item.Name
                </LumexLink>
            </LumexNavbarItem>
        }

        <LumexNavbarItem Class="h-5">
            <LumexDivider Orientation="@Orientation.Vertical" />
        </LumexNavbarItem>
        @_headerActions
    </LumexNavbarContent>

    <LumexNavbarContent Align="@Align.End" Class="sm:hidden gap-4">
        @_headerActions
        <LumexNavbarMenuToggle Class="sm:hidden" />
    </LumexNavbarContent>

    <LumexNavbarMenu Class="pt-0 pb-10 sm:hidden">
        <NavMenu />
    </LumexNavbarMenu>
</LumexNavbar>

@code {
    [Parameter] public MaxWidth MaxWidth { get; set; } = MaxWidth.XLarge;
    [Parameter] public bool Bordered { get; set; } = true;
    [Parameter] public string? Class { get; set; }

    private readonly RenderFragment _headerActions =
    @<text>
        <LumexNavbarItem Class="flex">
            <ThemeToggle />
        </LumexNavbarItem>
        <LumexNavbarItem Class="flex">
            <LumexLink Href="@Constants.GitHub.Path"
                       External="@true"
                       Class="text-foreground-500 hover:text-foreground-600 hover:opacity-100">
                <GithubIcon Size="20" />
                <span class="ml-1.5 text-small font-medium">346</span>
            </LumexLink>
        </LumexNavbarItem>
    </text>;

    private readonly NavItem[] _navItems = new NavItem[]
    {
        new("/docs/getting-started/overview", "Docs"),
        new("/docs/components/accordion", "Components"),
    };

    private record NavItem( string Link, string Name );
}
