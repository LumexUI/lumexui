@using LumexUI.Shared.Icons
@using LumexUI.Services

@inject IPopoverService PopoverService

<LumexButton Variant="@Variant.Outlined"
             OnClick="@TriggerAsync"
             data-popoverref="@_dropdownId">
    Open Dropdown
</LumexButton>

<LumexDropdown Id="@_dropdownId">
    <LumexDropdownMenu>
        <LumexDropdownItem>
            <StartContent>
                <SquarePlusIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>New file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem>
            <StartContent>
                <SquarePenIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>Edit file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem>
            <StartContent>
                <ShareIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>Share file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem Color="@ThemeColor.Danger" Class="text-danger">
            <StartContent>
                <Trash2Icon Size="18" class="shrink-0" />
            </StartContent>
            <ChildContent>Delete file</ChildContent>
        </LumexDropdownItem>
    </LumexDropdownMenu>
</LumexDropdown>

@code {
    private string _dropdownId = "dropdown-start-end-content";

    private Task TriggerAsync()
    {
        return PopoverService.TriggerAsync( _dropdownId );
    }
}