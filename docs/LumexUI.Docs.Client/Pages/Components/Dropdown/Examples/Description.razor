@using LumexUI.Shared.Icons
@using LumexUI.Services

@inject IPopoverService PopoverService

<LumexButton Variant="@Variant.Outlined"
             OnClick="@TriggerAsync"
             data-popoverref="@_dropdownId">
    Open Dropdown
</LumexButton>

<LumexDropdown Id="@_dropdownId">
    <LumexDropdownMenu Variant="@MenuVariant.Flat">
        <LumexDropdownItem Description="Create a new file">
            <StartContent>
                <SquarePlusIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>New file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem Description="Edit the file">
            <StartContent>
                <SquarePenIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>Edit file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem Description="Share the file">
            <StartContent>
                <ShareIcon Size="18" class="text-default-500 shrink-0" />
            </StartContent>
            <ChildContent>Share file</ChildContent>
        </LumexDropdownItem>

        <LumexDropdownItem Description="Delete the file"
                           Color="@ThemeColor.Danger"
                           Class="text-danger">
            <StartContent>
                <Trash2Icon Size="18" class="shrink-0" />
            </StartContent>
            <ChildContent>Delete file</ChildContent>
        </LumexDropdownItem>
    </LumexDropdownMenu>
</LumexDropdown>

@code {
    private string _dropdownId = "dropdown-description";

    private Task TriggerAsync()
    {
        return PopoverService.TriggerAsync( _dropdownId );
    }
}